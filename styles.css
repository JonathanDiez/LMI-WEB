/* ===========================
   Inventario LM - CSS Optimizado
   Moderno, Minimalista y Responsive
   =========================== */

*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}

:root {
  /* Colores - Tema Oscuro */
  --bg-1: #0a0e17;
  --bg-2: #12161f;
  --bg-3: #1a1f2e;
  --bg-4: #1f2433;
  
  --accent: #06d6a0;
  --accent-hover: #05c090;
  --accent-soft: rgba(6,214,160,0.1);
  
  --text-1: #f1f5f9;
  --text-2: #94a3b8;
  --text-3: #64748b;
  
  --border: rgba(255,255,255,0.08);
  --border-active: rgba(6,214,160,0.4);
  
  --error: #ef4444;
  --success: #10b981;
  
  --shadow: 0 2px 8px rgba(0,0,0,0.4);
  --shadow-lg: 0 4px 20px rgba(0,0,0,0.5);
  
  --radius: 10px;
  --radius-lg: 14px;
  
  /* Rangos */
  --rango-9: #be185d;
  --rango-8: #a21caf;
  --rango-7: #059669;
  --rango-6: #0d9488;
  --rango-5: #f59e0b;
  --rango-4: #f97316;
  --rango-3: #e5e5e5;
  --rango-2: #d4d4d4;
  --rango-1: #60a5fa;
  
  --ease: cubic-bezier(0.4,0,0.2,1);
}

[data-theme="light"] {
  --bg-1: #f8fafc;
  --bg-2: #ffffff;
  --bg-3: #ffffff;
  --bg-4: #f1f5f9;
  
  --accent: #0891b2;
  --accent-hover: #0e7490;
  --accent-soft: rgba(8,145,178,0.1);
  
  --text-1: #0f172a;
  --text-2: #475569;
  --text-3: #94a3b8;
  
  --border: rgba(0,0,0,0.1);
  --border-active: rgba(8,145,178,0.4);
  
  --error: #dc2626;
  --success: #059669;
  
  --shadow: 0 2px 6px rgba(0,0,0,0.06);
  --shadow-lg: 0 4px 16px rgba(0,0,0,0.1);
}

/* Base */
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg-1);color:var(--text-1);line-height:1.6;-webkit-font-smoothing:antialiased}
.app-contenedor{min-height:100vh;display:flex;flex-direction:column}
.sub{font-size:0.875rem;color:var(--text-2)}
.small{font-size:0.75rem;color:var(--text-2)}

/* Header */
.cabecera{background:var(--bg-2);padding:1.25rem 2rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:50;backdrop-filter:blur(10px)}
.cab-izq h1{font-size:1.75rem;font-weight:700;margin-bottom:0.25rem;letter-spacing:-0.025em}

/* Theme Toggle */
.theme-toggle{position:fixed;top:30px;right:360px;z-index:100;width:50px;height:50px;border-radius:50%;background:var(--bg-3);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.35rem;box-shadow:var(--shadow);transition:transform 0.2s var(--ease),box-shadow 0.2s var(--ease)}
.theme-toggle:hover{transform:scale(1.08);box-shadow:var(--shadow-lg);border-color:var(--accent)}
.theme-toggle:active{transform:scale(0.98)}

/* User Badge */
.user-badge{display:flex;align-items:center;gap:1rem;padding:0.625rem 1.125rem;background:var(--bg-3);border-radius:var(--radius);border:1px solid var(--border)}
.user-badge img{width:42px;height:42px;border-radius:50%;border:2px solid var(--accent)}
.user-name{font-size:0.9rem;font-weight:600;color:var(--text-1)}

/* Buttons */
.btn-pri,.btn-sec{padding:0.75rem 1.5rem;border:none;border-radius:var(--radius);font-size:0.875rem;font-weight:600;cursor:pointer;font-family:inherit;transition:transform 0.2s var(--ease)}
.btn-pri{background:var(--accent);color:#fff;box-shadow:0 2px 8px rgba(6,214,160,0.2)}
.btn-pri:hover{transform:translateY(-1px);background:var(--accent-hover)}
.btn-pri:active{transform:translateY(0)}
.btn-sec{background:var(--bg-3);color:var(--text-1);border:1px solid var(--border)}
.btn-sec:hover{border-color:var(--accent)}
.full-width{width:100%}

.btn-remove-item{width:40px;height:40px;padding:0;border-radius:var(--radius);border:1px solid var(--border);background:var(--bg-3);color:var(--text-2);cursor:pointer;font-size:1rem;font-weight:600;transition:all 0.2s var(--ease)}
.btn-remove-item:hover{border-color:var(--error);color:var(--error);background:rgba(239,68,68,0.1)}

.btn-delete{background:var(--error);color:#fff;padding:0.5rem;border:none;border-radius:var(--radius);cursor:pointer;display:inline-flex;align-items:center;justify-content:center;min-width:72px;height:40px;font-weight:600;transition:transform 0.2s var(--ease)}
.btn-delete:hover{transform:translateY(-1px)}
.miembro-card .btn-delete{min-width:38px;width:38px;height:38px;padding:0}

/* Badges */
.pct-badge{display:inline-block;padding:0.15rem 0.5rem;font-size:0.7rem;font-weight:600;color:var(--accent);background:var(--accent-soft);border:1px solid var(--accent);border-radius:6px}

/* Login */
.login-container{max-width:460px;margin:5rem auto;padding:3rem;background:var(--bg-3);border-radius:var(--radius-lg);border:1px solid var(--border);box-shadow:var(--shadow-lg)}
.login-header{text-align:center;margin-bottom:2.5rem}
.login-icon{font-size:3.5rem;margin-bottom:1.5rem}
.login-header h2{font-size:1.875rem;margin-bottom:0.5rem;font-weight:700;letter-spacing:-0.025em}

/* Inputs */
.input-group{margin-bottom:1.5rem}
.input-label{display:block;font-size:0.875rem;font-weight:600;margin-bottom:0.625rem;color:var(--text-1)}
input,select{width:100%;padding:0.875rem 1.125rem;background:var(--bg-4);border:1px solid var(--border);border-radius:var(--radius);color:var(--text-1);font-size:0.875rem;font-family:inherit;transition:border-color 0.2s var(--ease)}
input:focus,select:focus{outline:none;border-color:var(--accent)}
input::placeholder{color:var(--text-3)}
.nota{margin-top:2rem;text-align:center;color:var(--text-2);font-size:0.85rem}

/* Dashboard */
.dashboard{display:flex;flex:1;gap:2rem;padding:2rem;max-width:1600px;margin:0 auto;width:100%}
.sidebar{width:280px;background:var(--bg-3);border-radius:var(--radius-lg);border:1px solid var(--border);padding:1.75rem;height:fit-content;position:sticky;top:6rem;box-shadow:var(--shadow)}
.sidebar-title{font-size:0.75rem;text-transform:uppercase;color:var(--text-3);margin-bottom:1.25rem;padding:0 0.75rem;font-weight:600;letter-spacing:0.05em}

/* Navigation */
.nav-btn{width:100%;display:flex;align-items:center;gap:0.875rem;padding:0.875rem 1.125rem;background:none;border:none;border-radius:var(--radius);color:var(--text-2);font-size:0.875rem;cursor:pointer;margin-bottom:0.375rem;font-weight:500;position:relative;font-family:inherit;transition:all 0.2s var(--ease)}
.nav-icon{font-size:1.125rem}
.nav-btn:hover{background:var(--accent-soft);color:var(--text-1);transform:translateX(4px)}
.nav-btn.active{background:var(--accent-soft);color:var(--accent);font-weight:600}
.nav-btn.active::before{content:'';position:absolute;left:0;top:50%;transform:translateY(-50%);width:3px;height:60%;background:var(--accent);border-radius:0 2px 2px 0}
.sidebar-footer{margin-top:2rem;padding-top:1.5rem;border-top:1px solid var(--border)}
.nav-logout{width:100%;display:flex;align-items:center;gap:0.875rem;padding:0.875rem 1.125rem;background:none;border:1px solid rgba(239,68,68,0.2);border-radius:var(--radius);color:var(--text-2);font-size:0.875rem;cursor:pointer;font-weight:500;font-family:inherit;transition:all 0.2s var(--ease)}
.nav-logout:hover{background:rgba(239,68,68,0.1);border-color:var(--error);color:var(--error)}

/* Views */
.contenido{flex:1}
.view{display:none;background:var(--bg-3);border-radius:var(--radius-lg);border:1px solid var(--border);padding:2.5rem;box-shadow:var(--shadow)}
.view.active{display:block}
.view-header{margin-bottom:2.5rem;padding-bottom:1.75rem;border-bottom:1px solid var(--border)}
.view-header h3{font-size:1.875rem;margin-bottom:0.625rem;font-weight:700;letter-spacing:-0.025em}

/* Forms */
.form-section{margin-bottom:2rem;position:relative}
.form-label{display:block;font-size:0.875rem;font-weight:600;margin-bottom:0.625rem;color:var(--text-1)}
.items-container{display:flex;flex-direction:column;gap:1rem;margin-top:1rem}
.item-row{display:grid;grid-template-columns:2fr 100px 40px;gap:0.875rem;align-items:center}
.qty-item{height:53px}
.btn-add-modern{background:var(--accent-soft);border:2px dashed var(--border-active);color:var(--accent);padding:1.125rem;border-radius:var(--radius);cursor:pointer;display:flex;align-items:center;justify-content:center;gap:0.625rem;font-weight:600;margin-top:1.25rem;font-family:inherit;transition:all 0.2s var(--ease)}
.btn-add-modern:hover{background:rgba(6,214,160,0.18);transform:translateY(-1px)}
.form-actions{margin-top:2.5rem;padding-top:2rem;border-top:1px solid var(--border);display:flex;justify-content:flex-end}
.form-actions .btn-pri{min-width:220px}

/* Panels */
.grid-dos{display:grid;grid-template-columns:1fr 1fr;gap:2.5rem}
.panel-section{margin-bottom:2.5rem}
.panel-header{margin-bottom:1.75rem}
.panel-header h4{font-size:1.25rem;font-weight:700;letter-spacing:-0.025em}

/* Miembros */
.miembros-list{display:flex;flex-direction:column;gap:1rem}
.miembro-card{background:var(--bg-4);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem 1.5rem;display:flex;justify-content:space-between;align-items:center;cursor:pointer;gap:1rem;transition:all 0.2s var(--ease)}
.miembro-card:hover{border-color:var(--border-active);transform:translateX(4px);box-shadow:var(--shadow)}
.miembro-info{min-width:0;display:flex;flex-direction:column;gap:0.375rem}
.miembro-info strong{display:block;font-weight:600;font-size:1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.miembro-actions{display:flex;gap:0.5rem;align-items:center}

/* Rangos */
.rango-badge{display:inline-flex;align-items:center;justify-content:center;min-width:68px;padding:0.375rem 0.75rem;border-radius:var(--radius);font-weight:700;font-size:0.8rem;letter-spacing:-0.01em}
.rango-9{background:var(--rango-9);color:#fff}
.rango-8{background:var(--rango-8);color:#fff}
.rango-7{background:var(--rango-7);color:#fff}
.rango-6{background:var(--rango-6);color:#fff}
.rango-5{background:var(--rango-5);color:#000}
.rango-4{background:var(--rango-4);color:#fff}
.rango-3{background:var(--rango-3);color:#000}
.rango-2{background:var(--rango-2);color:#000}
.rango-1{background:var(--rango-1);color:#000}

/* Catálogo */
.catalogo-list{display:grid;gap:1rem}
.catalogo-item{display:flex;justify-content:space-between;align-items:center;background:var(--bg-4);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem 1.5rem;transition:all 0.2s var(--ease)}
.catalogo-item:hover{border-color:var(--border-active);transform:translateX(4px);box-shadow:var(--shadow)}

/* Inventarios */
.search-section{margin-bottom:2rem}
.inventarios-grid{display:grid;gap:1.25rem;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));align-items:start}
.inventario-card{background:var(--bg-4);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem;display:flex;gap:1rem;align-items:center;justify-content:space-between;cursor:pointer;min-height:80px;transition:all 0.2s var(--ease)}
.inventario-card:hover{transform:translateY(-4px);box-shadow:var(--shadow);border-color:var(--border-active)}
.inventario-left{display:flex;align-items:center;gap:0.75rem;min-width:0;flex:1}
.inventario-meta{display:flex;flex-direction:column;align-items:flex-end;gap:0.25rem}
.inventario-meta .items-count{font-size:1.25rem;font-weight:700;color:var(--accent)}
.inventario-meta .items-sub{font-size:0.75rem;color:var(--text-3)}

/* Item Cards */
.inventario-items{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1.25rem;margin-top:2rem}
.item-card{background:var(--bg-4);border:1px solid var(--border);border-radius:var(--radius);padding:1.25rem;position:relative;transition:all 0.2s var(--ease)}
.item-card:hover{border-color:var(--border-active);transform:translateY(-4px);box-shadow:var(--shadow)}
.item-image{position:relative;overflow:hidden;border-radius:var(--radius);width:100%;height:120px;background:var(--bg-1);display:flex;align-items:center;justify-content:center;font-size:2.5rem;margin-bottom:1rem;border:1px solid var(--border)}
.item-image img{width:100%;height:100%;object-fit:cover;display:block}
.img-fallback{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:2.2rem}
.item-name{display:block;margin-top:0.25rem;margin-bottom:0.35rem;font-weight:600}
.item-total{color:var(--accent);font-weight:700;margin-top:0.4rem}
.item-delete{position:absolute;top:6px;right:6px;z-index:6;width:28px;height:28px;padding:0;border-radius:8px;font-weight:700;background:var(--error);color:#fff;border:none;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:transform 0.2s var(--ease)}
.item-delete:hover{transform:scale(1.1)}

/* Badges especiales */
.header-badge{display:inline-block;font-weight:600;padding:0.25rem 0.6rem;border-radius:999px;border:1px solid var(--border);background:rgba(255,255,255,0.02);font-size:0.95rem;color:inherit}
.items-badge{background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(0,0,0,0.05));min-width:36px;text-align:center}
.total-badge{background:linear-gradient(180deg,rgba(6,214,160,0.12),rgba(6,214,160,0.06));color:var(--accent);border-color:var(--accent);line-height:32px}
.rango-badge-detail{display:inline-block;margin-left:0.4rem;padding:0.18rem 0.45rem;border-radius:8px;background:rgba(0,0,0,0.1);font-weight:700;font-size:0.95rem}
.pct-strong{font-weight:700;color:var(--accent)}

/* Toggle 500 - Formulario */
.mi-500-btn {
  color: white;
  display: inline-flex;
  gap: 0.6rem;
  align-items: center;
  justify-content: flex-start;
  padding: 0.6rem 0.8rem;
  border-radius: 10px;
  border: 1px solid var(--border);
  background-color: rgba(18, 22, 31, 0.25);
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s var(--ease);
  width: 100%;
  text-align: left
}

.mi-500-btn:hover {
  transform: translateY(-2px)
}

.mi-500-btn.active {
  background: var(--accent-soft);
  border-color: var(--accent);
  color: var(--accent)
}

.mi-500-btn .mi-500-icon {
  font-size: 1.1rem;
  margin-right: 0.4rem
}

/* Toggle 500 - Tarjetas */
.btn-toggle-500 {
  color: var(--text-1);
  border: none;
  height: 40px;
  background-color: rgba(18, 22, 31, 0.25);
  cursor: pointer;
  padding: 0.35rem 0.5rem;
  border-radius: 8px;
  min-width: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  transition: all 0.2s var(--ease);
  font-size: 0.75rem
}

.btn-toggle-500:hover {
  transform: translateY(-2px)
}

.btn-toggle-500.active {
  background: var(--accent-soft);
  color: var(--accent)
}

/* Toasts */
.toasts{position:fixed;top:1.5rem;right:1.5rem;z-index:1000;display:flex;flex-direction:column;gap:0.75rem;pointer-events:none}
.toast{background:var(--bg-3);border:1px solid var(--border);border-left:4px solid var(--accent);padding:1.125rem 1.75rem;border-radius:var(--radius);box-shadow:var(--shadow-lg);min-width:340px;font-size:0.9rem;pointer-events:auto;opacity:1;transition:opacity 0.3s;backdrop-filter:blur(10px)}
.toast.error{border-left-color:var(--error)}

/* Modal */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.75);backdrop-filter:blur(4px);display:none;align-items:center;justify-content:center;z-index:100}
.modal-overlay.active{display:flex}
.modal-content{background:var(--bg-3);border:1px solid var(--border);border-radius:var(--radius-lg);padding:2.5rem;max-width:900px;max-height:90vh;overflow-y:auto;width:90%;box-shadow:var(--shadow-lg)}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1.25rem;border-bottom:1px solid var(--border)}
.modal-header h3{font-size:1.625rem;font-weight:700;letter-spacing:-0.025em}
.modal-close{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-2);padding:0.5rem;border-radius:var(--radius);display:flex;align-items:center;justify-content:center;width:38px;height:38px;transition:all 0.2s var(--ease)}
.modal-close:hover{background:rgba(239,68,68,0.1);color:var(--error)}

/* Checkboxes */
.checkbox-label{display:flex;align-items:center;gap:0.75rem;cursor:pointer;padding:0.75rem;border-radius:var(--radius);margin:0.5rem 0;transition:background 0.2s var(--ease)}
.checkbox-label:hover{background:var(--accent-soft)}
.checkbox-label input[type="checkbox"]{width:20px;height:20px;cursor:pointer;accent-color:var(--accent)}
.checkbox-label span{font-size:0.9rem;font-weight:500}

/* Sugerencias */
.sugerencias{display:none;position:absolute;top:100%;left:0;right:0;background:var(--bg-3);border:1px solid var(--border);border-radius:var(--radius);margin-top:0.5rem;max-height:320px;overflow-y:auto;z-index:10;box-shadow:var(--shadow-lg)}
.sugerencias.active{display:block}
.sugerencias>div{padding:0.875rem 1.125rem;cursor:pointer;border-bottom:1px solid var(--border);transition:background 0.2s var(--ease)}
.sugerencias>div:last-child{border-bottom:none}
.sugerencias>div:hover{background:var(--accent-soft);color:var(--accent)}

/* Custom Select */
.custom-select-wrapper{position:relative;display:block;width:100%;margin-top:0.25rem}
.custom-select-trigger{width:100%;text-align:left;padding:0.875rem 1.125rem;display:flex;align-items:center;justify-content:space-between;gap:0.5rem;cursor:pointer;border-radius:var(--radius);border:1px solid var(--border);background:var(--bg-4);color:var(--text-1);font-family:inherit;font-size:0.875rem;transition:border-color 0.2s var(--ease)}
.custom-select-trigger:hover{border-color:var(--border-active)}
.custom-select-trigger::after{content:'▾';opacity:0.6;font-size:1rem}
.custom-select-wrapper .sugerencias{position:absolute;z-index:50;top:calc(100% + 6px);left:0;right:0;max-height:280px}

/* Scrollbar */
::-webkit-scrollbar{width:10px;height:10px}
::-webkit-scrollbar-track{background:var(--bg-4);border-radius:5px}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:5px}
::-webkit-scrollbar-thumb:hover{background:var(--border-active)}

/* Responsive */
@media(max-width:1024px){
.grid-dos{grid-template-columns:1fr}
.theme-toggle{right:30px}
}

@media(max-width:768px){
.dashboard{flex-direction:column;padding:1.5rem}
.sidebar{width:100%;position:static}
.cabecera{padding:1.25rem 1.5rem;flex-wrap:wrap}
.cab-izq h1{font-size:1.5rem}
.view{padding:1.5rem}
.modal-content{padding:1.5rem;width:95%}
.inventario-items{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}
.item-row{grid-template-columns:1fr 90px 40px}
.inventarios-grid{grid-template-columns:1fr}
.login-container{margin:2rem auto;padding:2rem}
.theme-toggle{width:46px;height:46px;font-size:1.2rem;top:20px;right:20px}
.toasts{top:1rem;right:1rem}
.toast{min-width:300px;padding:1rem 1.25rem}
}

@media(max-width:480px){
.cabecera h1{font-size:1.25rem}
.view-header h3{font-size:1.5rem}
.item-row{grid-template-columns:1fr;gap:0.5rem}
.btn-remove-item{width:100%;height:36px}
.theme-toggle{width:44px;height:44px;font-size:1.1rem}
.btn-pri,.btn-sec{padding:0.625rem 1.25rem;font-size:0.8125rem}
.miembro-card{flex-direction:column;align-items:flex-start}
.miembro-actions{width:100%;justify-content:flex-end}
.inventario-card{flex-direction:column;align-items:flex-start}
.inventario-meta{flex-direction:row;align-items:center;gap:0.5rem;width:100%}
}